{"ast":null,"code":"import { Rectangle } from './models/rectangle';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/rectangle.service\";\nexport class AppComponent {\n  constructor(rectangleService) {\n    this.rectangleService = rectangleService;\n    this.title = 'DemoApp';\n    this.rectangle = new Rectangle();\n    this.resizing = false;\n    this.initialX = 0;\n    this.initialY = 0;\n    this.initialWidth = 0;\n    this.initialHeight = 0;\n  }\n  ngOnInit() {\n    this.rectangleService.GetRectangle().subscribe(result => {\n      if (result.success) {\n        this.rectangle = result.data;\n        return;\n      }\n      alert(result.error);\n    });\n  }\n  onResizeStart(event) {\n    this.resizing = true;\n    console.log(event.clientX);\n    console.log(event.clientY);\n    this.rectangle.width = this.rectangle.width + event.clientX - this.initialX;\n    this.rectangle.height = this.rectangle.height + event.clientY - this.initialY;\n    this.initialX = event.clientX;\n    this.initialY = event.clientY;\n  }\n  onResize(event) {\n    if (!this.resizing) {\n      return;\n    }\n    this.rectangle.width = this.rectangle.width + event.clientX - this.initialX;\n    this.rectangle.height = this.rectangle.height + event.clientY - this.initialY;\n    this.rectangle.CalculatePerimeter();\n    this.initialX = event.clientX;\n    this.initialY = event.clientY;\n  }\n  resizeStop(event) {\n    if (!this.resizing) {\n      return;\n    }\n    this.resizing = false;\n    this.rectangleService.SaveRectangle(this.rectangle).subscribe(result => {\n      if (result.success) {\n        this.rectangle = result.data;\n        console.log(this.rectangle);\n      }\n    });\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.RectangleService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 8,\n  vars: 6,\n  consts: [[1, \"container\"], [1, \"rectangle-container\"], [1, \"rectangle\"], [3, \"mousedown\", \"mousemove\", \"mouseup\"], [1, \"perimeter\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(4, \"svg\", 2)(5, \"rect\", 3);\n      i0.ɵɵlistener(\"mousedown\", function AppComponent_Template__svg_rect_mousedown_5_listener($event) {\n        return ctx.onResizeStart($event);\n      })(\"mousemove\", function AppComponent_Template__svg_rect_mousemove_5_listener($event) {\n        return ctx.onResize($event);\n      })(\"mouseup\", function AppComponent_Template__svg_rect_mouseup_5_listener($event) {\n        return ctx.resizeStop($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(6, \"div\", 4);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵattribute(\"width\", ctx.rectangle.width)(\"height\", ctx.rectangle.height);\n      i0.ɵɵadvance(1);\n      i0.ɵɵattribute(\"width\", ctx.rectangle.width)(\"height\", ctx.rectangle.height);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Perimeter: \", ctx.rectangle.perimeter, \" \");\n    }\n  },\n  styles: [\".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.rectangle-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin-top:20px}rect[_ngcontent-%COMP%]{resize:both}.rectangle[_ngcontent-%COMP%]{border:1px solid black}.perimeter[_ngcontent-%COMP%]{margin-left:20px}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}